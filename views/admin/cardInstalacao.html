a.length > 0) { %>
        <% lista.forEach(i => {
          const coresStatus = {
            'Pendente': 'warning',
            'Em andamento': 'info',
            'Concluída': 'success',
            'Cancelada': 'danger'
          };

          const iconesServico = {
            'Instalação de Painéis': 'fa-solar-panel',
            'Manutenção': 'fa-wrench',
            'Orçamento': 'fa-file-invoice-dollar',
            'Inspeção': 'fa-search'
          };

          const corStatus = coresStatus[i.status] || 'secondary';
          const iconeServico = iconesServico[i.servico] || 'fa-cogs';
        %>
          <div class="col">
            <div class="card shadow-sm border border-light">
              <div class="card-header bg-<%= corStatus %> text-white d-flex justify-content-between align-items-center">
                <span><i class="fas fa-home me-2"></i>Instalação #<%= i.instalacao_id %></span>
                <span class="badge bg-light text-dark"><%= i.status %></span>
              </div>
              <div class="card-body text-dark">
                <h5 class="card-title"><i class="fas fa-user me-2"></i><%= i.nome_completo %></h5>
                <p class="card-text mb-1">
                  <i class="fas fa-map-marker-alt me-2 text-secondary"></i>
                  <%= i.logradouro %>, <%= i.numero %>
                  <% if (i.complemento) { %> - <%= i.complemento %><% } %>,
                  <%= i.cidade %> - <%= i.estado %> (<%= i.cep %>)
                </p>
                <p class="card-text mb-1">
                  <i class="fas <%= iconeServico %> me-2 text-secondary"></i>
                  <strong>Serviço:</strong> <%= i.servico %>
                </p>
                <p class="card-text mb-1">
                  <i class="fas fa-toolbox me-2 text-secondary"></i>
                  <strong>Equipamentos:</strong>
                  <% if (i.equipamentos.length > 0) { %>
                    <ul class="mb-1 ps-3">
                      <% i.equipamentos.forEach(eq => { %>
                        <li>
                          <strong><%= eq.nome %></strong> (<%= eq.marca %>) - 
                          <%= eq.quantidade %> un - 
                          R$ <%= Number(eq.valor_unitario).toFixed(2).replace('.', ',') %>
                        </li>
                      <% }) %>
                    </ul>
                  <% } else { %>
                    <em>Sem equipamentos</em>
                  <% } %>
                </p>
              </div>
              <div class="card-footer d-flex justify-content-end gap-2">
                <button class="btn btn-warning btn-sm btnEditarInstalacao" data-id="<%= i.instalacao_id %>">
                  <i class="fas fa-edit"></i>
                </button>
                <button class="btn btn-danger btn-sm btnExcluirInstalacao" data-id="<%= i.instalacao_id %>">
                  <i class="fas fa-trash"></i>
                </button>
                <button class="btn btn-info btn-sm btnVisualizarInstalacao" data-id="<%= i.instalacao_id %>">
                  <i class="fas fa-eye"></i>
                </button>
              </div>
            </div>
          </div>
        <% }) %>
      <% } else { %>
        <div class="col">
          <div class="alert alert-warning text-center">Nenhuma instalação encontrada.</div>
        </div>
      <% } %>
    </div>